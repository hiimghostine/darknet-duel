# Requirements Inventory

| Goal ID | SMART Goal                                                         | Requirement ID | Requirement Statement                                                           | Transaction (Input → Process → Output)                                                                                 | Type | Priority | Status Percentage | Owner            |
| ------- | ------------------------------------------------------------------ | -------------- | ------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | ---- | -------- | ----------------- | ---------------- |
| G1      | Achieve 100% test coverage for all 7 modules                       | REQ-101        | The system shall have unit tests covering all backend service functions         | Test runner executes Jest suite → Validates service logic → Reports coverage metrics                                   |      | Must     |                   | Dev Team         |
|         |                                                                    | REQ-102        | The system shall have integration tests for all API endpoints                   | Test client sends HTTP requests → Validates responses → Confirms data persistence                                      |      | Must     |                   | Dev Team         |
|         |                                                                    | REQ-103        | The system shall have end-to-end tests for complete user workflows              | Test automation simulates user actions → Validates system behavior → Reports success/failure                           |      | Must     |                   | Dev Team         |
|         |                                                                    | REQ-104        | The system shall have game logic tests for all card interactions                | Test framework executes game scenarios → Validates rule enforcement → Confirms state changes                           |      | Must     |                   | Dev Team         |
|         |                                                                    | REQ-105        | The system shall integrate automated vulnerability scanning in CI/CD pipeline   | GitHub Actions triggers ZAP scan → Scans deployed application → Reports security findings                              |      | Must     |                   | Security Lead    |
| G2      | Implement complete error handling and user feedback system         | REQ-201        | The system shall display user-friendly error messages for all failure scenarios | Error occurs → System logs details → User sees clear, actionable message                                               |      | Must     |                   | Frontend Lead    |
|         |                                                                    | REQ-202        | The system shall implement error boundaries to prevent complete UI crashes      | React error occurs → Error boundary catches → Displays fallback UI                                                     |      | Must     |                   | Frontend Lead    |
|         |                                                                    | REQ-203        | The system shall provide offline detection ingame                               | Network failure detected → System switches to offline mode → Stops game if user doesn't respond after 20 seconds       |      | Should   |                   | Frontend Lead    |
|         |                                                                    | REQ-204        | The system shall implement toast notifications for user actions                 | User performs action → System validates → Shows success/error notification                                             |      | Should   |                   | Frontend Lead    |
|         |                                                                    | REQ-205        | The system shall display lore video for first-time users                        | New user logs in → System detects first login → Plays lore video automatically                                         |      | Must     |                   | Frontend Lead    |
|         |                                                                    | REQ-206        | The system shall provide interactive tutorial for new players                   | User completes lore video → System redirects to tutorial → Guides through game mechanics → Provide access to main game |      | Must     |                   | Frontend Lead    |
| G3      | Achieve 100% API endpoint coverage with Swagger documentation      | REQ-301        | All REST API endpoints shall be documented with OpenAPI 3.0 specifications      | Developer writes endpoint → Adds Swagger annotations → Generates interactive docs                                      |      | Must     |                   | Backend Lead     |
|         |                                                                    | REQ-302        | All API endpoints shall implement rate limiting to prevent abuse                | Request received → Rate limiter checks quota → Allows or blocks based on limits                                        |      | Must     |                   | Backend Lead     |
|         |                                                                    | REQ-303        | All WebSocket connections shall be documented with connection protocols         | Client connects → Protocol validation → Establishes secure connection                                                  |      | Should   |                   | Game Server Lead |
| G4      | Implement comprehensive security hardening and compliance features | REQ-401        | The system shall implement input sanitization for all user inputs               | User input received → Sanitization middleware processes → Clean data stored                                            |      | Must     |                   | Security Lead    |
|         |                                                                    | REQ-402        | The system shall implement comprehensive audit logging for all admin actions    | Admin performs action → System logs details → Stores in audit database                                                 |      | Must     |                   | Security Lead    |
|         |                                                                    | REQ-403        | The system shall implement GDPR compliance features (data export/deletion)      | User requests data → System validates identity → Provides data or confirms deletion                                    |      | Must     |                   | Security Lead    |
|         |                                                                    | REQ-404        | The system shall implement security headers and CORS policies                   | HTTP response generated → Security middleware adds headers → Client receives secure response                           |      | Must     |                   | Security Lead    |
|         |                                                                    | REQ-405        | The system shall implement session timeout and automatic logout                 | User inactive → Timer expires → System terminates session                                                              |      | Should   |                   | Security Lead    |
|         |                                                                    | REQ-406        | The system shall fail CI/CD pipeline on security vulnerabilities                | ZAP scan detects vulnerabilities → Pipeline validation fails → Prevents deployment                                     |      | Must     |                   | Security Lead    |

# Traceability Matrix

| Requirement ID | SRS Reference (Use Cases, Activity Diagrams, Wireframes)                                                                            | SDD Reference (Class Diagrams, Sequence Diagrams, User Interfaces, Databases)               | Implementation Module(s)/Component(s)                                                                                     | STD Reference (Test Case IDs) | Status  |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- | ----------------------------- | ------- |
| REQ-101        | Module 1: User Management Use Cases, User Registration Activity Diagram, User Login Activity Diagram, Profile Management Wireframes | Module 1: User Management Design: Transaction 1-4 Class Diagrams                            | backend-server/src/services: account.service.ts, auth.service.ts, admin.service.ts                                        | TBA                           | Pending |
| REQ-102        | Module 1-7: API Integration Use Cases, REST API Activity Diagrams, WebSocket Connection Diagrams                                    | Module 1-7: API Endpoint Design, All transaction sequence diagrams, REST API specifications | backend-server/src/routes/: account.routes.ts, auth.routes.ts, admin.routes.ts,game-server/src/server/: cardDataRoutes.ts | TBA                           | Pending |
| REQ-103        | Module 1-7: User Journey Use Cases, Complete User Workflow Diagrams, Integration Flow Wireframes                                    | Module 1-7: User Workflow Design, Complete user journey diagrams, Integration flow diagrams | darknet-duel-frontend: components/ pages/ hooks/ services/                                                                | TBA                           | Pending |
| REQ-104        | Module 4: Game Logic Use Cases, Card Interaction Activity Diagrams, Game State Transition Diagrams                                  | Module 4: Card System Design, Card interaction diagrams, Game state diagrams                | game-server/src/game/: cards/ core/ moves/ utils/                                                                         | TBA                           | Pending |
| REQ-105        | SRS 3.3 Security (CI gate); 2.1 Backend perspective (security)                                                                     | SDD Cross-Cutting Concerns → CI Security Gate; 2. Tech Stack (CI/CD)                        | .github/workflows: ci.yml (ZAP baseline scan); scripts/ci; repo root README (badges)                                       | TBA                           | Pending |
| REQ-201        | SRS 3.2.1 UX Foundations; 2.1 Frontend perspective                                                                                | SDD Cross-Cutting Concerns → Error Handling & Feedback; Module UIs                          | frontend: src/components/ErrorBoundary.tsx, src/providers/ToastProvider.tsx, src/utils/errorMapping.ts                     | TBA                           | Pending |
| REQ-202        | SRS 3.2.1 UX Foundations                                                                                                           | SDD Cross-Cutting Concerns → Error Handling & Feedback                                      | frontend: src/components/ErrorBoundary.tsx                                                                                  | TBA                           | Pending |
| REQ-203        | SRS 3.2.1 UX Foundations; 3.3 Reliability                                                                                         | SDD Cross-Cutting Concerns → Offline Detection & Graceful Handling; 3.3 Reconnection        | frontend: src/hooks/useNetwork.ts, src/hooks/useGameConnection.ts, src/components/OfflineOverlay.tsx                       | TBA                           | Pending |
| REQ-204        | SRS 3.2.1 UX Foundations                                                                                                           | SDD Cross-Cutting Concerns → Error Handling & Feedback                                      | frontend: src/providers/ToastProvider.tsx, src/components/ToastContainer.tsx                                               | TBA                           | Pending |
| REQ-205        | SRS 3.2.1 UX Foundations; 2.1 Frontend perspective                                                                                | SDD Cross-Cutting Concerns → First-Time Experience                                          | frontend: src/components/LoreVideo.tsx, src/flows/firstTimeFlow.ts, backend: profile preferences field                      | TBA                           | Pending |
| REQ-206        | SRS 3.2.1 UX Foundations                                                                                                           | SDD Cross-Cutting Concerns → First-Time Experience                                          | frontend: src/components/InteractiveTutorial.tsx, src/flows/firstTimeFlow.ts                                               | TBA                           | Pending |
| REQ-301        | SRS 3.2.1 API Documentation & Policies                                                                                            | SDD Cross-Cutting Concerns → API Documentation & Protocols                                  | backend-server/src/config/swagger.ts; route/controller annotations; Swagger UI endpoint                                    | TBA                           | Pending |
| REQ-302        | SRS 3.2.1 API Documentation & Policies; 3.3 Security                                                                             | SDD Cross-Cutting Concerns → Rate Limiting                                                  | backend-server/src/middleware/rateLimiter.ts; per-route limiter configs                                                     | TBA                           | Pending |
| REQ-303        | SRS 3.2.1 API Documentation & Policies                                                                                            | SDD Cross-Cutting Concerns → API Documentation & Protocols                                  | game-server/docs/websocket-protocol.md; server events typing                                                                | TBA                           | Pending |
| REQ-401        | SRS 3.2.1 Security & Compliance; 3.3 Security                                                                                     | SDD Cross-Cutting Concerns → Security Hardening                                             | backend-server/src/middleware/validation.ts, sanitizers; shared validators                                                  | TBA                           | Pending |
| REQ-402        | SRS 3.2.1 Security & Compliance                                                                                                    | SDD Cross-Cutting Concerns → Security Hardening; Module 7 Admin                             | backend-server/src/entities/audit-log.entity.ts; src/services/log.service.ts; admin controllers write logs                  | TBA                           | Pending |
| REQ-403        | SRS 3.2.1 Security & Compliance                                                                                                    | SDD Cross-Cutting Concerns → Security Hardening                                             | backend-server/src/controllers/gdpr.controller.ts; src/services/gdpr.service.ts; export/delete endpoints                    | TBA                           | Pending |
| REQ-404        | SRS 3.2.1 Security & Compliance; 2.1 Backend perspective                                                                          | SDD Cross-Cutting Concerns → Security Hardening                                             | backend-server/src/app.ts: Helmet, CORS configuration                                                                       | TBA                           | Pending |
| REQ-405        | SRS 3.2.1 Security & Compliance                                                                                                    | SDD Cross-Cutting Concerns → Security Hardening                                             | frontend: src/hooks/useIdleTimer.ts; backend: JWT expiry config                                                             | TBA                           | Pending |
| REQ-406        | SRS 3.2.1 Security & Compliance; 3.3 Security                                                                                      | SDD Cross-Cutting Concerns → CI Security Gate                                               | .github/workflows: ci.yml; ZAP config; fail-on-findings script                                                              | TBA                           | Pending |