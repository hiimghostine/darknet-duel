{"openapi":"3.0.0","info":{"title":"Darknet Duel API","version":"1.0.0","description":"Authentication and persistence API for Darknet Duel - A cybersecurity-themed multiplayer card game","contact":{"name":"Darknet Duel Team","email":"support@darknetduel.game"},"license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"}},"servers":[{"url":"https://backend-dev.notshige.me","description":"Development server"}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"JWT token for user authentication"},"serverApiKey":{"type":"apiKey","in":"header","name":"x-server-api-key","description":"Server-to-server API key for game server communication"}},"schemas":{"User":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique user identifier"},"email":{"type":"string","format":"email","description":"User email address"},"username":{"type":"string","description":"Unique username"},"isActive":{"type":"boolean","description":"Whether the account is active"},"lastLogin":{"type":"string","format":"date-time","nullable":true,"description":"Last login timestamp"},"gamesPlayed":{"type":"integer","description":"Total number of games played"},"gamesWon":{"type":"integer","description":"Total number of games won"},"gamesLost":{"type":"integer","description":"Total number of games lost"},"rating":{"type":"integer","description":"Current ELO rating"},"bio":{"type":"string","maxLength":30,"nullable":true,"description":"User bio"},"creds":{"type":"integer","minimum":0,"description":"Virtual currency: Creds"},"crypts":{"type":"integer","minimum":0,"description":"Virtual currency: Crypts"},"createdAt":{"type":"string","format":"date-time","description":"Account creation timestamp"},"updatedAt":{"type":"string","format":"date-time","description":"Last update timestamp"}}},"LoginRequest":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email","description":"User email address"},"password":{"type":"string","minLength":6,"description":"User password"}}},"RegisterRequest":{"type":"object","required":["email","username","password"],"properties":{"email":{"type":"string","format":"email","description":"User email address"},"username":{"type":"string","minLength":3,"maxLength":20,"description":"Unique username"},"password":{"type":"string","minLength":6,"description":"User password"}}},"AuthResponse":{"type":"object","properties":{"message":{"type":"string","description":"Response message"},"user":{"$ref":"#/components/schemas/User"},"token":{"type":"string","description":"JWT authentication token"}}},"RecentActivityItem":{"type":"object","properties":{"type":{"type":"string","enum":["WIN","LOSS"],"description":"Game outcome type"},"opponent":{"type":"string","description":"Opponent username"},"time":{"type":"string","description":"Human-readable time ago (e.g., \"2h ago\")"},"pointsChange":{"type":"string","description":"Rating points change (e.g., \"+125 PTS\")"},"gameId":{"type":"string","description":"Game identifier"},"gameMode":{"type":"string","description":"Game mode (e.g., \"standard\")"}}},"ProfileStats":{"type":"object","properties":{"wins":{"type":"integer","description":"Total wins"},"losses":{"type":"integer","description":"Total losses"},"totalGames":{"type":"integer","description":"Total games played"},"winRate":{"type":"string","description":"Win rate percentage (e.g., \"75.5%\")"},"rating":{"type":"integer","description":"Current ELO rating"},"level":{"type":"integer","description":"Player level"}}},"ProfileInfo":{"type":"object","properties":{"recentActivity":{"type":"array","items":{"$ref":"#/components/schemas/RecentActivityItem"}},"profileStats":{"$ref":"#/components/schemas/ProfileStats"},"user":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"}}}}},"Error":{"type":"object","properties":{"success":{"type":"boolean","example":false},"message":{"type":"string","description":"Error message"},"error":{"type":"string","description":"Additional error details (development mode only)"}}},"Success":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","description":"Success message"}}},"UpdateAccountRequest":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"New email address (optional)"},"username":{"type":"string","minLength":3,"maxLength":20,"description":"New username (optional)"},"password":{"type":"string","minLength":8,"description":"New password (optional)"},"bio":{"type":"string","maxLength":30,"description":"User bio (optional, max 30 characters)"}}},"UpdateAccountFormRequest":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"New email address (optional)"},"username":{"type":"string","minLength":3,"maxLength":20,"description":"New username (optional)"},"password":{"type":"string","minLength":8,"description":"New password (optional)"},"bio":{"type":"string","maxLength":30,"description":"User bio (optional, max 30 characters)"},"avatar":{"type":"string","format":"binary","description":"Avatar image file (optional, max 5MB, JPEG/PNG/GIF/WebP)"}}},"PublicUser":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique user identifier"},"username":{"type":"string","description":"Unique username"},"isActive":{"type":"boolean","description":"Whether the account is active"},"gamesPlayed":{"type":"integer","description":"Total number of games played"},"gamesWon":{"type":"integer","description":"Total number of games won"},"gamesLost":{"type":"integer","description":"Total number of games lost"},"rating":{"type":"integer","description":"Current ELO rating"},"bio":{"type":"string","maxLength":30,"nullable":true,"description":"User bio"},"createdAt":{"type":"string","format":"date-time","description":"Account creation timestamp"}}}}},"tags":[{"name":"Authentication","description":"User authentication and account management"},{"name":"Account Management","description":"User account details and profile management"},{"name":"File Management","description":"File upload and retrieval endpoints"},{"name":"Profile & Info","description":"User profile information and activity data"},{"name":"Server","description":"Server-to-server communication endpoints"},{"name":"Health","description":"System health and monitoring"},{"name":"Currency","description":"Virtual currency management (Creds and Crypts)"},{"name":"Payment","description":"Payment processing via Xendit for purchasing crypts"},{"name":"Games","description":"Game history and statistics endpoints"},{"name":"Admin","description":"Administrative endpoints for user management (admin access only)"}],"paths":{"/api/account/me":{"get":{"tags":["Account Management"],"summary":"Get current user's account details","description":"Retrieves the authenticated user's complete account information","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Account details retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/User"}}},"example":{"success":true,"data":{"id":"550e8400-e29b-41d4-a716-446655440000","email":"hacker@darknet.com","username":"CyberNinja","isActive":true,"lastLogin":"2023-12-01T10:30:00Z","gamesPlayed":15,"gamesWon":9,"gamesLost":6,"rating":1350,"createdAt":"2023-11-01T08:00:00Z","updatedAt":"2023-12-01T10:30:00Z"}}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"success":false,"message":"Authentication required"}}}},"404":{"description":"User account not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"success":false,"message":"Account not found"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"put":{"tags":["Account Management"],"summary":"Update current user's account details","description":"Updates the authenticated user's account information (email, username, password, bio, avatar). If changing password, existing_password must be provided.","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/UpdateAccountFormRequest"},"encoding":{"avatar":{"contentType":"image/jpeg, image/png, image/gif, image/webp"}}},"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAccountRequest"},"example":{"email":"newemail@darknet.com","username":"EliteHacker","existing_password":"currentPassword123!","password":"newSecurePassword123!","bio":"Elite hacker from the darknet"}}}},"responses":{"200":{"description":"Account updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Account updated successfully"},"data":{"$ref":"#/components/schemas/User"}}},"example":{"success":true,"message":"Account updated successfully","data":{"id":"550e8400-e29b-41d4-a716-446655440000","email":"newemail@darknet.com","username":"EliteHacker","isActive":true,"lastLogin":"2023-12-01T10:30:00Z","gamesPlayed":15,"gamesWon":9,"gamesLost":6,"rating":1350,"createdAt":"2023-11-01T08:00:00Z","updatedAt":"2023-12-01T11:00:00Z"}}}}},"400":{"description":"Bad request - validation errors","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"examples":{"invalidEmail":{"summary":"Invalid email format","value":{"success":false,"message":"Invalid email format"}},"weakPassword":{"summary":"Weak password","value":{"success":false,"message":"Password must be at least 8 characters and contain at least one uppercase letter, one lowercase letter, one number, and one special character"}},"emptyUpdate":{"summary":"No fields to update","value":{"success":false,"message":"No valid fields provided for update"}}}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"409":{"description":"Conflict - email or username already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"examples":{"emailTaken":{"summary":"Email already in use","value":{"success":false,"message":"Email already in use"}},"usernameTaken":{"summary":"Username already in use","value":{"success":false,"message":"Username already in use"}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"delete":{"tags":["Account Management"],"summary":"Delete (anonymize) current user's account","description":"Anonymizes the authenticated user's account. Requires password confirmation.","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["password"],"properties":{"password":{"type":"string","description":"User's current password for confirmation"}}}}}},"responses":{"200":{"description":"Account successfully anonymized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Account successfully deleted"}}}}}},"400":{"description":"Bad request - invalid password or missing password"},"401":{"description":"Unauthorized - invalid or missing token"},"500":{"description":"Internal server error"}}}},"/api/account/{uuid}":{"get":{"tags":["Account Management"],"summary":"Get user account details by UUID","description":"Retrieves public account information for any user by their UUID","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"uuid","required":true,"schema":{"type":"string","format":"uuid"},"description":"The UUID of the user account to retrieve","example":"550e8400-e29b-41d4-a716-446655440000"}],"responses":{"200":{"description":"Account details retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/PublicUser"}}},"example":{"success":true,"data":{"id":"550e8400-e29b-41d4-a716-446655440000","username":"CyberNinja","isActive":true,"gamesPlayed":15,"gamesWon":9,"gamesLost":6,"rating":1350,"createdAt":"2023-11-01T08:00:00Z"}}}}},"400":{"description":"Bad request - invalid UUID format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"success":false,"message":"Invalid UUID format"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User account not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"success":false,"message":"Account not found"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/account/search":{"get":{"tags":["Account Management"],"summary":"Search user account by username","description":"Retrieves public account information for any user by their username","security":[{"bearerAuth":[]}],"parameters":[{"in":"query","name":"username","required":true,"schema":{"type":"string"},"description":"The username of the user account to retrieve","example":"CyberNinja"}],"responses":{"200":{"description":"Account details retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/PublicUser"}}}}}},"400":{"description":"Bad request - username parameter missing","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User account not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/admin/users":{"get":{"tags":["Admin"],"summary":"Get paginated list of users with search functionality","description":"Retrieve all users with pagination, search, and filtering capabilities","security":[{"bearerAuth":[]}],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1,"default":1},"description":"Page number for pagination"},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1,"maximum":100,"default":20},"description":"Number of users per page"},{"in":"query","name":"search","schema":{"type":"string"},"description":"Search term to filter users by username or email"},{"in":"query","name":"type","schema":{"type":"string","enum":["user","mod","admin"]},"description":"Filter users by account type"},{"in":"query","name":"isActive","schema":{"type":"boolean"},"description":"Filter users by active status"}],"responses":{"200":{"description":"Users retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/AdminUser"}},"pagination":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"},"totalPages":{"type":"integer"}}}}}}}}}},"401":{"description":"Unauthorized - not an admin"},"500":{"description":"Internal server error"}}}},"/api/admin/users/{id}":{"get":{"tags":["Admin"],"summary":"Get detailed user information","description":"Get comprehensive user details including sensitive information","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"User ID"}],"responses":{"200":{"description":"User details retrieved successfully"},"401":{"description":"Unauthorized - not an admin"},"404":{"description":"User not found"}}},"put":{"tags":["Admin"],"summary":"Update user details","description":"Update any user details including account type and sensitive information","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"User ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"username":{"type":"string"},"type":{"type":"string","enum":["user","mod","admin"]},"isActive":{"type":"boolean"},"bio":{"type":"string","maxLength":30},"creds":{"type":"integer","minimum":0},"crypts":{"type":"integer","minimum":0},"password":{"type":"string","description":"New password (will be hashed)"}}}}}},"responses":{"200":{"description":"User updated successfully"},"400":{"description":"Invalid input data"},"401":{"description":"Unauthorized - not an admin"},"404":{"description":"User not found"},"409":{"description":"Email or username already exists"}}},"delete":{"tags":["Admin"],"summary":"Delete user account","description":"Permanently delete a user account and all associated data","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"User ID"}],"responses":{"200":{"description":"User deleted successfully"},"401":{"description":"Unauthorized - not an admin"},"403":{"description":"Cannot delete own account or other admins"},"404":{"description":"User not found"}}}},"/api/admin/stats":{"get":{"tags":["Admin"],"summary":"Get user statistics for admin dashboard","description":"Retrieve various user statistics for the admin dashboard","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"User statistics retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"totalUsers":{"type":"integer"},"activeUsers":{"type":"integer"},"adminUsers":{"type":"integer"},"modUsers":{"type":"integer"},"regularUsers":{"type":"integer"}}}}}}}},"401":{"description":"Unauthorized - not an admin"}}}},"/api/admin/users/{id}/ban":{"post":{"tags":["Admin"],"summary":"Ban user account","description":"Deactivate a user account with a ban reason","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"User ID to ban"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["reason"],"properties":{"reason":{"type":"string","description":"Reason for banning the user","example":"Violated community guidelines"}}}}}},"responses":{"200":{"description":"User banned successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/AdminUser"},"message":{"type":"string","example":"User banned successfully"}}}}}},"400":{"description":"Invalid request or cannot ban admin accounts"},"401":{"description":"Unauthorized - not an admin"},"404":{"description":"User not found"}}}},"/api/admin/users/{id}/unban":{"post":{"tags":["Admin"],"summary":"Unban user account","description":"Reactivate a banned user account","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"User ID to unban"}],"responses":{"200":{"description":"User unbanned successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/AdminUser"},"message":{"type":"string","example":"User unbanned successfully"}}}}}},"401":{"description":"Unauthorized - not an admin"},"404":{"description":"User not found"}}}},"/api/auth/register":{"post":{"tags":["Authentication"],"summary":"Register a new user account","description":"Creates a new user account in the Darknet Duel system","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"},"example":{"email":"hacker@darknet.com","username":"CyberNinja","password":"securepassword123"}}}},"responses":{"201":{"description":"User successfully registered","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"},"example":{"message":"User registered successfully","user":{"id":"550e8400-e29b-41d4-a716-446655440000","email":"hacker@darknet.com","username":"CyberNinja","isActive":true,"gamesPlayed":0,"gamesWon":0,"gamesLost":0,"rating":1200},"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}}},"400":{"description":"Bad request - validation errors","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"message":"Email and username are required"}}}},"409":{"description":"Conflict - email or username already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"message":"Email or username already exists"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/auth/login":{"post":{"tags":["Authentication"],"summary":"Login a user","description":"Authenticates a user and returns a JWT token","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"},"example":{"email":"hacker@darknet.com","password":"securepassword123"}}}},"responses":{"200":{"description":"User successfully logged in","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"},"example":{"message":"Login successful","user":{"id":"550e8400-e29b-41d4-a716-446655440000","email":"hacker@darknet.com","username":"CyberNinja","isActive":true,"gamesPlayed":15,"gamesWon":9,"gamesLost":6,"rating":1350},"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}}},"400":{"description":"Bad request - missing email or password","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"message":"Email and password are required"}}}},"401":{"description":"Unauthorized - invalid credentials or disabled account","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"message":"Invalid credentials"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/auth/profile":{"get":{"tags":["Authentication"],"summary":"Get current user profile","description":"Retrieves the authenticated user's profile information","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"User profile retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"}}},"example":{"user":{"id":"550e8400-e29b-41d4-a716-446655440000","email":"hacker@darknet.com","username":"CyberNinja","isActive":true,"lastLogin":"2023-12-01T10:30:00Z","gamesPlayed":15,"gamesWon":9,"gamesLost":6,"rating":1350,"createdAt":"2023-11-01T08:00:00Z","updatedAt":"2023-12-01T10:30:00Z"}}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"message":"Authentication required. No token provided."}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"message":"User not found"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/auth/logout":{"get":{"tags":["Authentication"],"summary":"Logout current user","description":"Invalidates the current user's session token","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Successfully logged out","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Logged out successfully"}}},"example":{"message":"Logged out successfully"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"message":"Authentication required"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/currency/balance":{"get":{"summary":"Get user's currency balance","tags":["Currency"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Currency balance retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/CurrencyBalance"}}}}}},"401":{"description":"Authentication required"},"404":{"description":"User not found"}}}},"/api/currency/add":{"post":{"summary":"Add currency to user's account (Admin only)","tags":["Currency"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userId","type","amount"],"properties":{"userId":{"type":"string","description":"User ID to add currency to"},"type":{"type":"string","enum":["creds","crypts"],"description":"Currency type"},"amount":{"type":"integer","minimum":1,"description":"Amount to add"},"reason":{"type":"string","description":"Reason for adding currency"}}}}}},"responses":{"200":{"description":"Currency added successfully"},"400":{"description":"Invalid request data"},"401":{"description":"Authentication required"},"404":{"description":"User not found"}}}},"/api/currency/subtract":{"post":{"summary":"Subtract currency from user's account (Admin only)","tags":["Currency"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userId","type","amount"],"properties":{"userId":{"type":"string","description":"User ID to subtract currency from"},"type":{"type":"string","enum":["creds","crypts"],"description":"Currency type"},"amount":{"type":"integer","minimum":1,"description":"Amount to subtract"},"reason":{"type":"string","description":"Reason for subtracting currency"}}}}}},"responses":{"200":{"description":"Currency subtracted successfully"},"400":{"description":"Invalid request data or insufficient funds"},"401":{"description":"Authentication required"},"404":{"description":"User not found"}}}},"/api/currency/transfer":{"post":{"summary":"Transfer currency between users","tags":["Currency"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["toUserId","type","amount"],"properties":{"toUserId":{"type":"string","description":"User ID to transfer currency to"},"type":{"type":"string","enum":["creds","crypts"],"description":"Currency type"},"amount":{"type":"integer","minimum":1,"description":"Amount to transfer"}}}}}},"responses":{"200":{"description":"Currency transferred successfully"},"400":{"description":"Invalid request data or insufficient funds"},"401":{"description":"Authentication required"},"404":{"description":"User not found"}}}},"/api/files/avatar/{uuid}":{"get":{"tags":["File Management"],"summary":"Get user avatar image","description":"Retrieves the avatar image file for a user by their UUID. If the user has no custom avatar, returns the default logo.png","parameters":[{"in":"path","name":"uuid","required":true,"schema":{"type":"string","format":"uuid"},"description":"The UUID of the user whose avatar to retrieve","example":"550e8400-e29b-41d4-a716-446655440000"}],"responses":{"200":{"description":"Avatar image retrieved successfully","content":{"image/jpeg":{"schema":{"type":"string","format":"binary"}},"image/png":{"schema":{"type":"string","format":"binary"}},"image/gif":{"schema":{"type":"string","format":"binary"}},"image/webp":{"schema":{"type":"string","format":"binary"}}}},"400":{"description":"Bad request - invalid UUID format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"success":false,"message":"Invalid UUID format"}}}},"404":{"description":"User not found or system error (fallback to default logo in most cases)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"success":false,"message":"No avatar found for this user"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/server/games/results":{"post":{"tags":["Server"],"summary":"Save game results (Server-to-server)","description":"Records game results sent from the game server for persistence and rating updates","security":[{"serverApiKey":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["gameId","players","gameData"],"properties":{"gameId":{"type":"string","description":"Unique game identifier"},"players":{"type":"array","items":{"type":"object","properties":{"playerId":{"type":"string"},"accountId":{"type":"string"},"role":{"type":"string","enum":["attacker","defender"]},"isWinner":{"type":"boolean"}}}},"gameData":{"type":"object","properties":{"mode":{"type":"string"},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"turnCount":{"type":"integer"}}}}},"example":{"gameId":"game-123-456","players":[{"playerId":"0","accountId":"550e8400-e29b-41d4-a716-446655440000","role":"attacker","isWinner":true},{"playerId":"1","accountId":"550e8400-e29b-41d4-a716-446655440001","role":"defender","isWinner":false}],"gameData":{"mode":"standard","startTime":"2023-12-01T10:00:00Z","endTime":"2023-12-01T10:30:00Z","turnCount":25}}}}},"responses":{"200":{"description":"Game results saved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object"}}}}}},"400":{"description":"Bad request - missing required data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized - invalid server API key","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/server/validate":{"get":{"tags":["Server"],"summary":"Validate server connection (Server-to-server)","description":"Validates that the game server can communicate with the backend server","security":[{"serverApiKey":[]}],"responses":{"200":{"description":"Server connection validated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"message":{"type":"string","example":"Server-to-server communication successful"},"timestamp":{"type":"string","format":"date-time"}}}}}},"401":{"description":"Unauthorized - invalid server API key","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/games/history":{"get":{"tags":["Games"],"summary":"Get user's game history","description":"Retrieves the authenticated user's game history with pagination support","security":[{"bearerAuth":[]}],"parameters":[{"in":"query","name":"limit","schema":{"type":"integer","minimum":1,"maximum":100,"default":20},"description":"Maximum number of games to return"},{"in":"query","name":"offset","schema":{"type":"integer","minimum":0,"default":0},"description":"Number of games to skip for pagination"}],"responses":{"200":{"description":"Game history retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"games":{"type":"array","items":{"type":"object","properties":{"gameId":{"type":"string"},"gameMode":{"type":"string"},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"turnCount":{"type":"integer"},"isWinner":{"type":"boolean"},"playerRole":{"type":"string"},"ratingChange":{"type":"integer","nullable":true},"opponent":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"role":{"type":"string"}}}}}},"total":{"type":"integer","description":"Total number of games for pagination"},"hasMore":{"type":"boolean","description":"Whether there are more games to load"}}}}},"example":{"success":true,"data":{"games":[{"gameId":"game-123-456","gameMode":"standard","startTime":"2023-12-01T10:00:00Z","endTime":"2023-12-01T10:30:00Z","turnCount":25,"isWinner":true,"playerRole":"attacker","ratingChange":125,"opponent":{"id":"550e8400-e29b-41d4-a716-446655440001","username":"DefenderX","role":"defender"}}],"total":50,"hasMore":true}}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/games/{gameId}":{"get":{"tags":["Games"],"summary":"Get detailed game information","description":"Retrieves detailed information about a specific game","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"gameId","required":true,"schema":{"type":"string"},"description":"The game ID to retrieve"}],"responses":{"200":{"description":"Game details retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"gameId":{"type":"string"},"gameMode":{"type":"string"},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"turnCount":{"type":"integer"},"winnerId":{"type":"string","nullable":true},"winnerRole":{"type":"string","nullable":true},"abandonReason":{"type":"string","nullable":true},"players":{"type":"array","items":{"type":"object","properties":{"accountId":{"type":"string"},"username":{"type":"string"},"playerRole":{"type":"string"},"isWinner":{"type":"boolean"},"ratingBefore":{"type":"integer","nullable":true},"ratingAfter":{"type":"integer","nullable":true},"ratingChange":{"type":"integer","nullable":true}}}}}}}}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Game not found or user not authorized to view","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/info/profile":{"get":{"tags":["Profile & Info"],"summary":"Get complete user profile information","description":"Retrieves user profile including recent activity and statistics","security":[{"bearerAuth":[]}],"parameters":[{"in":"query","name":"limit","schema":{"type":"integer","minimum":1,"maximum":50,"default":10},"description":"Maximum number of recent activities to return"}],"responses":{"200":{"description":"Profile information retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/ProfileInfo"}}},"example":{"success":true,"data":{"recentActivity":[{"type":"WIN","opponent":"ByteRunner","time":"2h ago","pointsChange":"+125 PTS","gameId":"game-123","gameMode":"standard"},{"type":"LOSS","opponent":"NeonHex","time":"5h ago","pointsChange":"-75 PTS","gameId":"game-456","gameMode":"standard"}],"profileStats":{"wins":9,"losses":6,"totalGames":15,"winRate":"60.0%","rating":1350,"level":2},"user":{"id":"550e8400-e29b-41d4-a716-446655440000","username":"CyberNinja","email":"hacker@darknet.com"}}}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/info/activity":{"get":{"tags":["Profile & Info"],"summary":"Get user recent activity","description":"Retrieves only the recent activity history for the authenticated user","security":[{"bearerAuth":[]}],"parameters":[{"in":"query","name":"limit","schema":{"type":"integer","minimum":1,"maximum":50,"default":10},"description":"Maximum number of recent activities to return"}],"responses":{"200":{"description":"Recent activity retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"recentActivity":{"type":"array","items":{"$ref":"#/components/schemas/RecentActivityItem"}}}}}},"example":{"success":true,"data":{"recentActivity":[{"type":"WIN","opponent":"ByteRunner","time":"2h ago","pointsChange":"+125 PTS","gameId":"game-123","gameMode":"standard"}]}}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/info/stats":{"get":{"tags":["Profile & Info"],"summary":"Get user profile statistics","description":"Retrieves only the statistical information for the authenticated user","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Profile statistics retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"profileStats":{"$ref":"#/components/schemas/ProfileStats"}}}}},"example":{"success":true,"data":{"profileStats":{"wins":9,"losses":6,"totalGames":15,"winRate":"60.0%","rating":1350,"level":2}}}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/info/profile/{userId}":{"get":{"tags":["Profile & Info"],"summary":"Get any user's profile information by ID","description":"Retrieves user profile including recent activity and statistics for any user","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The UUID of the user to get profile information for"},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1,"maximum":50,"default":10},"description":"Maximum number of recent activities to return"}],"responses":{"200":{"description":"Profile information retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"recentActivity":{"type":"array","items":{"$ref":"#/components/schemas/RecentActivityItem"}},"profileStats":{"$ref":"#/components/schemas/ProfileStats"},"user":{"$ref":"#/components/schemas/PublicUser"}}}}}}}},"400":{"description":"Bad request - invalid UUID format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/info/purchase-history":{"get":{"tags":["Profile & Info"],"summary":"Get user's purchase history","description":"Retrieves the complete purchase history for the authenticated user","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Purchase history retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Purchase ID"},"itemType":{"type":"string","description":"Type of item purchased"},"itemId":{"type":"string","description":"ID of the purchased item"},"purchasePrice":{"type":"number","description":"Price paid for the item"},"currency":{"type":"string","enum":["creds","crypts"],"description":"Currency used for purchase"},"purchasedAt":{"type":"string","format":"date-time","description":"Date and time of purchase"}}}},"example":[{"id":"550e8400-e29b-41d4-a716-446655440000","itemType":"decoration","itemId":"decoration_01","purchasePrice":100,"currency":"creds","purchasedAt":"2024-01-15T10:30:00Z"}]}}},"401":{"description":"Unauthorized - authentication required"},"500":{"description":"Internal server error"}}}},"/api/payment/create":{"post":{"summary":"Create a payment invoice for purchasing crypts","tags":["Payment"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["packageId"],"properties":{"packageId":{"type":"string","enum":["starter","small","medium","large","xl","xxl","mega","ultra","supreme"],"description":"Package ID to purchase"}}}}}},"responses":{"200":{"description":"Payment invoice created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"invoiceId":{"type":"string","description":"Xendit invoice ID"},"invoiceUrl":{"type":"string","description":"Payment URL for user"},"status":{"type":"string","description":"Initial payment status"}}}}}}}},"400":{"description":"Invalid package ID"},"401":{"description":"Authentication required"},"500":{"description":"Payment service error"}}}},"/api/payment/status/{invoiceId}":{"get":{"summary":"Check payment status","tags":["Payment"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"invoiceId","required":true,"schema":{"type":"string"},"description":"Xendit invoice ID"}],"responses":{"200":{"description":"Payment status retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"status":{"type":"string","enum":["PENDING","PAID","EXPIRED","CANCELLED"],"description":"Current payment status"},"invoiceId":{"type":"string","description":"Invoice ID"}}}}}}}},"400":{"description":"Missing invoice ID"},"401":{"description":"Authentication required"},"500":{"description":"Payment service error"}}}},"/api/payment/process":{"post":{"summary":"Process successful payment and add crypts to user account","tags":["Payment"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["invoiceId","packageId"],"properties":{"invoiceId":{"type":"string","description":"Xendit invoice ID"},"packageId":{"type":"string","enum":["starter","small","medium","large","xl","xxl","mega","ultra","supreme"],"description":"Package ID that was purchased"}}}}}},"responses":{"200":{"description":"Payment processed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"crypts":{"type":"integer","description":"Number of crypts added"},"newBalance":{"type":"integer","description":"User's new crypt balance"}}}}}}}},"400":{"description":"Invalid request or payment not completed"},"401":{"description":"Authentication required"},"500":{"description":"Payment processing error"}}}},"/api/reports":{"post":{"tags":["Reports"],"summary":"Create a new report","description":"Create a report for a user or chat message","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["reporteeId","reason","reportType"],"properties":{"reporteeId":{"type":"string","format":"uuid","description":"ID of the user being reported"},"reason":{"type":"string","maxLength":500,"description":"Reason for the report"},"content":{"type":"string","description":"Content of the reported message (optional for profile reports)"},"reportType":{"type":"string","enum":["profile","chat"],"description":"Type of report"}}}}}},"responses":{"201":{"description":"Report created successfully"},"400":{"description":"Invalid input data"},"401":{"description":"Unauthorized"},"500":{"description":"Internal server error"}}}},"/api/admin/reports":{"get":{"tags":["Admin"],"summary":"Get reports for admin review","description":"Retrieve paginated list of reports with filtering options","security":[{"bearerAuth":[]}],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1,"default":1},"description":"Page number for pagination"},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1,"maximum":100,"default":20},"description":"Number of reports per page"},{"in":"query","name":"status","schema":{"type":"string","enum":["pending","reviewed","resolved","dismissed"]},"description":"Filter by report status"},{"in":"query","name":"reportType","schema":{"type":"string","enum":["profile","chat"]},"description":"Filter by report type"},{"in":"query","name":"search","schema":{"type":"string"},"description":"Search in reporter/reportee usernames or reason"}],"responses":{"200":{"description":"Reports retrieved successfully"},"401":{"description":"Unauthorized - not an admin"},"500":{"description":"Internal server error"}}}},"/api/admin/reports/{id}":{"get":{"tags":["Admin"],"summary":"Get detailed report information","description":"Get comprehensive report details including user information","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"Report ID"}],"responses":{"200":{"description":"Report details retrieved successfully"},"401":{"description":"Unauthorized - not an admin"},"404":{"description":"Report not found"}}},"delete":{"tags":["Admin"],"summary":"Delete a report","description":"Permanently delete a report","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"Report ID"}],"responses":{"200":{"description":"Report deleted successfully"},"401":{"description":"Unauthorized - not an admin"},"404":{"description":"Report not found"}}}},"/api/admin/reports/{id}/status":{"put":{"tags":["Admin"],"summary":"Update report status","description":"Update the status of a report (reviewed, resolved, dismissed)","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"Report ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["status"],"properties":{"status":{"type":"string","enum":["pending","reviewed","resolved","dismissed"],"description":"New status for the report"}}}}}},"responses":{"200":{"description":"Report status updated successfully"},"400":{"description":"Invalid status"},"401":{"description":"Unauthorized - not an admin"},"404":{"description":"Report not found"}}}},"/api/admin/reports/stats":{"get":{"tags":["Admin"],"summary":"Get report statistics","description":"Get report statistics for admin dashboard","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Report statistics retrieved successfully"},"401":{"description":"Unauthorized - not an admin"}}}},"/api/store":{"get":{"tags":["Store"],"summary":"Get store data","description":"Retrieves all available store categories and items","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Store data retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object"}}}}}}},"401":{"description":"Authentication required"},"500":{"description":"Internal server error"}}}},"/api/store/purchases":{"get":{"tags":["Store"],"summary":"Get user's purchases","description":"Retrieves all items purchased by the authenticated user","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"User purchases retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object"}}}}}}},"401":{"description":"Authentication required"},"500":{"description":"Internal server error"}}}},"/api/purchase/{itemId}":{"post":{"tags":["Store"],"summary":"Purchase an item","description":"Purchase a decoration or other store item","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"itemId","required":true,"schema":{"type":"string"},"description":"The ID of the item to purchase"}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"itemType":{"type":"string","enum":["decoration"],"default":"decoration"}}}}}},"responses":{"200":{"description":"Item purchased successfully"},"400":{"description":"Bad request (already owned, insufficient funds, etc.)"},"401":{"description":"Authentication required"},"404":{"description":"Item not found"},"500":{"description":"Internal server error"}}}},"/api/account/apply/decoration/{decorationId}":{"post":{"tags":["Store"],"summary":"Apply decoration to user account","description":"Apply a purchased decoration to the user's account","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"decorationId","required":true,"schema":{"type":"string"},"description":"The ID of the decoration to apply"}],"responses":{"200":{"description":"Decoration applied successfully"},"400":{"description":"Bad request (decoration not owned, not found, etc.)"},"401":{"description":"Authentication required"},"500":{"description":"Internal server error"}}}},"/api/account/remove/decoration":{"post":{"tags":["Store"],"summary":"Remove current decoration","description":"Remove the currently applied decoration from user's account","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Decoration removed successfully"},"401":{"description":"Authentication required"},"500":{"description":"Internal server error"}}}},"/api/files/decorations/{decorationId}.png":{"get":{"tags":["Files"],"summary":"Get decoration image file","description":"Retrieve decoration image by ID","parameters":[{"in":"path","name":"decorationId","required":true,"schema":{"type":"string"},"description":"The decoration ID"}],"responses":{"200":{"description":"Decoration image retrieved successfully","content":{"image/png":{"schema":{"type":"string","format":"binary"}}}},"404":{"description":"Decoration not found"}}}},"/api/files/banners/{bannerId}.png":{"get":{"tags":["Files"],"summary":"Get banner image file","description":"Retrieve banner image by ID","parameters":[{"in":"path","name":"bannerId","required":true,"schema":{"type":"string"},"description":"The banner ID"}],"responses":{"200":{"description":"Banner image retrieved successfully","content":{"image/png":{"schema":{"type":"string","format":"binary"}}}},"404":{"description":"Banner not found"}}}},"/api/files/bannertext/{bannerTextId}.png":{"get":{"tags":["Files"],"summary":"Get banner text image file","description":"Retrieve banner text image by ID","parameters":[{"in":"path","name":"bannerTextId","required":true,"schema":{"type":"string"},"description":"The banner text ID"}],"responses":{"200":{"description":"Banner text image retrieved successfully","content":{"image/png":{"schema":{"type":"string","format":"binary"}}}},"404":{"description":"Banner text not found"}}}}}}